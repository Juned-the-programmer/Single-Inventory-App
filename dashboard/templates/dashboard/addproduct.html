{% extends 'pages/base.html' %}
{% load user_auth %}
{% block title %}
Add Product
{% endblock title %}

{% block content %}

{% include "pages/message.html" %}

{% if request.user|has_group:"Estimate" %}
<div class="form-group">
    <div class="card">
        <h5 class="card-header">Add Product</h5>
        <div class="card-body">
            <form class="needs-validation" method='POST'>
            {% csrf_token %}
            <div class="form-group">
                <label for="validationCustom01">Product Name</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom01"
                placeholder="Product Name"
                name="productname"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom01">Product Category</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom01"
                placeholder="Product Category"
                name="productcategory"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom02">Unit</label>
                <select name="unit" id="validationCustom02" class="form-control">
                    <option value="pcs">Pcs.</option>
                    <option value="set">Set.</option>
                </select>
            </div>
            <div class="form-group">
                <label for="validationCustom02">Selling Price</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom02"
                placeholder="Enter Selling Price"
                name="sellingprice"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom02">Minimum Stock</label>
                <input
                type="number"
                class="form-control"
                id="validationCustom02"
                placeholder="Enter Minimum Stock Yoy Required"
                name="minimum_stock"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom02">Supplier</label>
                <select name="supplier" id="validationCustom02" class="form-control supplier">
                <option value="-1">-------Select Supplier-------</option>
                {% if request.user|has_group:"Estimate" %}
                    {% for i in Supplier_data %}
                        <option value="{{i.fullname}}">{{i.fullname}}</option>
                    {% endfor %}
                {% else %}
                    {% for i in supplierdata_gst %}
                        <option value="{{i.fullname}}">{{i.fullname}}</option>
                    {% endfor %}
                {% endif %}
                </select>
            </div>
            <div class="form-group">
                <label for="validationCustom02">Store Location</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom02"
                placeholder="Enter Store Location"
                name="storelocation"
                required
                />
            </div>
            <div class="form-row">
                <p class="text-right pl-1 pt-2">
                    <input type="submit" class="btn btn-space btn-success rounded" name="Estimate" value="Submit">
                    <a href="{% url 'dashboard' %}" class="btn btn-space btn-danger rounded">Cancel</a>
                </p>
            </div>
            </form>
        </div>
    </div>
</div>
{% else %}
<div class="form-group">
    <div class="card">
        <h5 class="card-header">Add Product</h5>
        <div class="card-body">
            <form class="needs-validation" method='POST'>
            {% csrf_token %}
            <div class="form-group">
                <label for="validationCustom01">Product Name</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom01"
                placeholder="Product Name"
                name="productname"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom01">Product Category</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom01"
                placeholder="Product Category"
                name="productcategory"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom02">Unit</label>
                <select name="unit" id="validationCustom02" class="form-control">
                    <option value="pcs">Pcs.</option>
                    <option value="set">Set.</option>
                </select>
            </div>
            <div class="form-group">
                <label for="validationCustom02">Selling Price</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom02"
                placeholder="Enter Selling Price"
                name="sellingprice"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom02">Minimum Stock</label>
                <input
                type="number"
                class="form-control"
                id="validationCustom02"
                placeholder="Enter Minimum Stock Yoy Required"
                name="minimum_stock"
                required
                />
            </div>
            <div class="form-group">
                <label for="validationCustom02">Supplier</label>
                <select name="supplier" id="validationCustom02" class="form-control supplier">
                <option value="-1">-------Select Supplier-------</option>
                {% if request.user|has_group:"Estimate" %}
                    {% for i in Supplier_data %}
                        <option value="{{i.fullname}}">{{i.fullname}}</option>
                    {% endfor %}
                {% else %}
                    {% for i in supplierdata_gst %}
                        <option value="{{i.fullname}}">{{i.fullname}}</option>
                    {% endfor %}
                {% endif %}
                </select>
            </div>
            <div class="form-group">
                <label for="validationCustom02">Store Location</label>
                <input
                type="text"
                class="form-control"
                id="validationCustom02"
                placeholder="Enter Store Location"
                name="storelocation"
                required
                />
            </div>
            <div class="form-row">
                <p class="text-right pl-1 pt-2">
                    <input type="submit" class="btn btn-space btn-success rounded" name="GST" value="Submit">
                    <a href="{% url 'dashboard' %}" class="btn btn-space btn-danger rounded">Cancel</a>
                </p>
            </div>
            </form>
        </div>
    </div>
</div>
{% endif %}

<script>
$(document).ready(function () {
    $('.supplier').select2();
  })
</script>

{% endblock content %}